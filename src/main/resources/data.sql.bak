DROP DATABASE IF EXISTS LIBRARY_DB;

CREATE DATABASE IF NOT EXISTS LIBRARY_DB;

USE DATABASE LIBRARY_DB;

CREATE TABLE IF NOT EXISTS LIBRARY_DB.LIBRARY_USER	(
	USER_ID INTEGER  NOT NULL AUTO_INCREMENT, 
	USER_NAME VARCHAR(255),
	PASSWORD VARCHAR(255),
	PRIMARY KEY (USER_ID)	
)

CREATE TABLE  IF NOT EXISTS LIBRARY_DB.LIBRARY_ROLE	(
	ROLE_ID INTEGER  NOT NULL AUTO_INCREMENT, 
	ROLE_NAME VARCHAR(255) NOT NULL,
	PRIMARY KEY (ROLE_ID)
)

CREATE TABLE IF NOT EXISTS LIBRARY_DB.LIBRARY_USER_ROLE	(
	USER_ROLE_ID INTEGER NOT NULL AUTO_INCREMENT, 
	USER_ID INTEGER NOT NULL,
	ROLE_ID INTEGER NOT NULL,
	PRIMARY KEY (USER_ROLE_ID),
	FOREIGN KEY (USER_ID) REFERENCES LIBRARY_DB.LIBRARY_USER(USER_ID),
	FOREIGN KEY (ROLE_ID) REFERENCES LIBRARY_DB.LIBRARY_ROLE(ROLE_ID)
)

CREATE TABLE IF NOT EXISTS LIBRARY_DB.LIBRARY_BOOK	(
	BOOK_ID INTEGER  NOT NULL AUTO_INCREMENT, 
	BOOK_NAME VARCHAR(255) NOT NULL,
	AUTHOR_FIRST_NAME VARCHAR(255),
	AUTHOR_LAST_NAME VARCHAR(255) NOT NULL,
	ISBN VARCHAR(25) NOT NULL,
	CATEGORY VARCHAR(255) NOT NULL,
	PRIMARY KEY (BOOK_ID)
)

